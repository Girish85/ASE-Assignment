<!DOCTYPE html>
<html lang="en">
<body>

<h1>My First Google Map</h1>

<div id="map" style="width:100%;height:600px;background: yellow"></div>

<script>
    function main() {

          //var pos = {
          //lat:51.2,lng:-0.12
          //};
        navigator.geolocation.getCurrentPosition(function location(position){
                              var pos1={lat: position.coords.latitude,
                lng: position.coords.longitude}
                //map.setCenter(pos1);
            var loc={
                center:pos1,
                zoom:10,
                mapTypeId:google.maps.MapTypeId.ROAD
            };
            var canvas=document.getElementById("map");
            var map=new google.maps.Map(canvas,loc);
            var mapr={
                map:map,
                position:pos1,
                animation:google.maps.Animation.BOUNCE
            };
            var marker=new google.maps.Marker(mapr);
        });
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCM5iKqeveah1FIRA3UgzdIKNEZiPcq_Cs&callback=main"></script>
</body>
</html>